<?xml version="1.0" encoding="UTF-8"?>
<configuration debug="false">

	<appender name="STDOUT"
		class="ch.qos.logback.core.ConsoleAppender">
		<encoder
			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<pattern>%date [%10thread] %-5level %logger{36} - %msg%n</pattern>
		</encoder>
	</appender>

	<appender name="FILE"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<file>logs/backend.log</file>
		<rollingPolicy
			class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>logs/backend.%d{yyyy-MM-dd}.log.zip
			</fileNamePattern>
			<maxHistory>1</maxHistory>
		</rollingPolicy>
		<encoder
			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %C.%M:%L -
				%m%n</pattern>
		</encoder>
	</appender>

	<!-- <appender name="LOGSTASH" class="net.logstash.logback.appender.LogstashTcpSocketAppender"> 
		<destination>127.0.0.1:9250</destination> <encoder charset="UTF-8" class="net.logstash.logback.encoder.LogstashEncoder" 
		/> </appender> -->

	<appender name="LOGSTASH"
		class="com.cwbase.logback.RedisAppender">
		<source>user_check_service</source>
		<sourcePath>node1</sourcePath>
		<type>Service</type>
		<tags>production</tags>
		<host>127.0.0.1</host>
		<port>6379</port>
		<key>logstash</key>
		<additionalField>
            <key>teamName</key>
            <value>mobile_app</value>
        </additionalField>
	</appender>

	<root level="INFO">
		<appender-ref ref="STDOUT" />
		<!--<appender-ref ref="FILE" /> -->
		<appender-ref ref="LOGSTASH" />
	</root>

</configuration>